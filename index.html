<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine's Side Quest</title>
<style>
  body {
    margin: 0;
    background: black;
    color: #ff66aa;
    font-family: monospace;
    overflow: hidden;
  }
  #terminal {
    padding: 20px;
    white-space: pre-wrap;
    font-size: 18px;
  }
  #gameCanvas {
    display: none;
    background: black;
    margin: auto;
    display: block;
  }
</style>
</head>
<body>

<div id="terminal"></div>
<canvas id="gameCanvas" width="800" height="400"></canvas>

<script>
const terminal = document.getElementById("terminal");
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

let gameStarted = false;

// Terminal text lines
const introLines = [
  "YOU'VE BEEN HACKED BY BUNNY! MUHAHAHA",
  "!!! SYSTEM COMPROMISED !!!",
  "!!! UNAUTHORIZED ACCESS DETECTED !!!",
  "Press Y to continue… if you dare"
];

let lineIndex = 0;
let charIndex = 0;

// Typewriter effect
function typeLine() {
  if(lineIndex < introLines.length){
    if(charIndex < introLines[lineIndex].length){
      terminal.textContent += introLines[lineIndex][charIndex];
      charIndex++;
      setTimeout(typeLine, 50);
    } else {
      terminal.textContent += "\n";
      lineIndex++;
      charIndex = 0;
      setTimeout(typeLine, 300);
    }
  }
}

// Start the intro
typeLine();

// Flicker effect for “hacker vibe”
function flickerTerminal() {
  if(Math.random() < 0.1){
    terminal.style.color = "#ff99cc";
  } else {
    terminal.style.color = "#ff66aa";
  }
  if(!gameStarted) setTimeout(flickerTerminal, 100);
}
flickerTerminal();

// Listen for keypress
document.addEventListener("keydown", (e) => {
  if(!gameStarted && (e.key === "y" || e.key === "Y")){
    startGame();
  }
});

// Start game placeholder
function startGame(){
  gameStarted = true;
  terminal.style.display = "none";
  canvas.style.display = "block";
  drawPlaceholderPuppy();
}

// Placeholder puppy drawing
function drawPlaceholderPuppy(){
  ctx.fillStyle = "brown";
  ctx.fillRect(50, 300, 40, 30); // body
  ctx.fillStyle = "darkbrown";
  ctx.fillRect(50, 280, 40, 20); // head
  ctx.fillStyle = "pink";
  ctx.fillRect(65, 295, 10, 5); // tongue
  // ears
  ctx.fillStyle = "darkbrown";
  ctx.fillRect(50, 270, 8, 10);
  ctx.fillRect(82, 270, 8, 10);
  // eyes
  ctx.fillStyle = "black";
  ctx.fillRect(55, 285, 5, 5);
  ctx.fillRect(78, 285, 5, 5);
  // tail (placeholder)
  ctx.fillStyle = "darkbrown";
  ctx.fillRect(30, 300, 10, 5);
}
</script>

</body>
</html>
